<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/global.min.css">
    <link rel="stylesheet" href="/css/index.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <title>Guia Perguntas</title>
</head>

<body>
    <%- include ('components/header.ejs') %> 

        <main>
            <div class="container">
                <div class="main">
                    <h1>Guia Perguntas</h1>
                    <p>Perguntas são importantes para pessoas aprenderem, descobrirem coisas novas e resolverem problemas.</p>
                </div>
                <img src="/img/main-img.svg" alt="">
            </div>
        </main>

        <section class="perguntas-info">
            <div class="container">
                <% if(perguntas.length == 1) { %> 
                    <span><%= perguntas.length %> pergunta</span>
                    <%} else { %>
                        <span><%= perguntas.length %> perguntas</span>
                    <%}%>
                <a href="/perguntar" class="cta">Faça uma pergunta</a>
            </div>
        </section>

        <section class="lista-perguntas">
            <div class="container">
                <ul>
                    <% perguntas.forEach(pergunta => { %>
                        <li class="item">
                            <a href="/pergunta/<%= pergunta.id %>">
                                <h3><%= pergunta.titulo %></h3>

                                <% if(pergunta.descricao.length < 120) { %> 
                                    <p class="descricao"><%= pergunta.descricao %> </p>
                                    <%} else { %>
                                        <p class="descricao"><%= pergunta.descricao.substring(0, 120) %>...</p>
                                    <%}%>
                                <hr>    
                                <div class="data-nome">
                                    <p>Postado por</p>
                                    <% if(pergunta.autor) { %> 
                                        <span class="autor"><%= pergunta.autor %> </span>
                                        <%} else { %>
                                            <span class="autor">Anônimo</span>
                                        <%}%>
                                    <span><%= pergunta.createdAt.toISOString().slice(0, 10).replaceAll('-', '/') %></span>
                                </div>
                            </a>
                        </li>
                        <% }) %>
                </ul>
            </div>
        </section>

    <%- include ('components/footer.ejs') %> 