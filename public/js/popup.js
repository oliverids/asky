const popup=document.getElementById("popup"),accept=document.getElementById("accept"),deny=document.getElementById("deny"),input=document.getElementById("username"),confirm=document.getElementById("confirm");function saveUsername(){popup.classList.add("shown"),[accept,deny].forEach(each=>{each.addEventListener("click",e=>{e.currentTarget==accept?(deny.classList.remove("chosen"),accept.classList.add("chosen"),input.classList.add("shown")):(deny.classList.add("chosen"),accept.classList.remove("chosen"),input.classList.remove("shown"))})});const users=["/img/users/alien.svg","/img/users/astronaut.svg","/img/users/cat.svg","/img/users/cop.svg","/img/users/cowboy.svg","/img/users/dog.svg","/img/users/ninja.svg"];confirm.addEventListener("click",()=>{if(accept.classList.contains("chosen"))if(0!==input.value.length){localStorage.setItem("username",input.value);let userpic=users[Math.floor(Math.random()*users.length)];localStorage.setItem("userpic",userpic),popup.classList.remove("shown"),document.location.reload()}else input.focus();else localStorage.setItem("username","An√¥nimo"),localStorage.setItem("userpic","/img/users/anonymous.svg"),popup.classList.remove("shown"),document.location.reload()})}function useUsername(){const autorRes=document.querySelector('input[name="autorRes"]'),autorPerg=document.querySelector('input[name="autorPerg"]'),autorPic=document.querySelector('input[name="autorPic"]');autorPerg&&(autorPerg.value=localStorage.getItem("username")),autorRes&&(autorRes.value=localStorage.getItem("username")),autorPic.value=localStorage.getItem("userpic")}null===localStorage.getItem("username")?saveUsername():useUsername();